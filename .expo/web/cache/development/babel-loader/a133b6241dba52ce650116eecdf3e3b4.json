{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { useEffect, useState } from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { COLORS, SIZES, SHADOWS, assets } from \"../constants\";\nimport { SubInfo, ReceipeTitle } from \"./SubInfo\";\nimport { RectButton, CircleButton } from \"./Button\";\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport { db, auth } from \"../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ReceipeCard = function ReceipeCard(_ref) {\n  var data = _ref.data;\n  var navigation = useNavigation();\n\n  var _useState = useState(assets.heartEmpty),\n      _useState2 = _slicedToArray(_useState, 2),\n      FavColor = _useState2[0],\n      setFavColor = _useState2[1];\n\n  var updateFav = function updateFav() {\n    db.collection('Users').doc(auth.currentUser.uid).get().then(function (querySnapshot) {\n      var dic = querySnapshot.data();\n      return dic;\n    }).then(function (dic) {\n      var fav = dic.favoris;\n\n      if (fav.includes(data.title) !== true) {\n        fav.push(data.title);\n        db.collection('Users').doc(auth.currentUser.uid).update({\n          favoris: fav\n        });\n        setFavColor(assets.heart);\n        console.log(\"favoris add\");\n      } else {\n        db.collection('Users').doc(auth.currentUser.uid).update({\n          favoris: firebase.firestore.FieldValue.arrayRemove(data.title)\n        });\n        setFavColor(assets.heartEmpty);\n        console.log(\"favoris remove\");\n      }\n    });\n  };\n\n  var updateColor = function updateColor() {\n    db.collection('Users').doc(auth.currentUser.uid).get().then(function (querySnapshot) {\n      var dic = querySnapshot.data();\n      return dic;\n    }).then(function (dic) {\n      var fav = dic.favoris;\n\n      if (fav.includes(data.id) !== true) {\n        setFavColor(assets.heartEmpty);\n      } else {\n        setFavColor(assets.heart);\n      }\n    });\n  };\n\n  useEffect(function () {\n    updateColor();\n  }, []);\n  console.log(\"favori 1 ou 2\", data);\n  return _jsxs(View, {\n    style: _objectSpread({\n      backgroundColor: COLORS.white,\n      borderRadius: SIZES.font,\n      marginBottom: SIZES.extraLarge,\n      margin: SIZES.base\n    }, SHADOWS.dark),\n    children: [_jsxs(View, {\n      style: {\n        width: \"100%\",\n        height: 250\n      },\n      children: [_jsx(Image, {\n        source: {\n          uri: data.image\n        },\n        resizeMode: \"cover\",\n        style: {\n          width: \"100%\",\n          height: \"100%\",\n          borderTopLeftRadius: SIZES.font,\n          borderTopRightRadius: SIZES.font\n        }\n      }), _jsx(CircleButton, {\n        imgUrl: FavColor,\n        right: 10,\n        top: 10,\n        handlePress: updateFav\n      }), \" \"]\n    }), _jsx(SubInfo, {\n      tmpPrep: data.readyInMinutes\n    }), _jsxs(View, {\n      style: {\n        width: \"100%\",\n        padding: SIZES.font\n      },\n      children: [_jsx(ReceipeTitle, {\n        title: data.title,\n        titleSize: SIZES.large\n      }), _jsxs(View, {\n        style: {\n          marginTop: SIZES.font,\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        children: [_jsxs(Text, {\n          children: [\" \", data.sourceUrl, \" \"]\n        }), \" \", _jsx(RectButton, {\n          minWidth: 120,\n          fontSize: SIZES.font,\n          handlePress: function handlePress() {\n            return navigation.navigate(\"Details\", {\n              data: data\n            });\n          }\n        }), \" \"]\n      }), \" \"]\n    }), \" \"]\n  });\n};\n\nexport default ReceipeCard;","map":{"version":3,"names":["useEffect","useState","useNavigation","COLORS","SIZES","SHADOWS","assets","SubInfo","ReceipeTitle","RectButton","CircleButton","firebase","db","auth","ReceipeCard","data","navigation","heartEmpty","FavColor","setFavColor","updateFav","collection","doc","currentUser","uid","get","then","querySnapshot","dic","fav","favoris","includes","title","push","update","heart","console","log","firestore","FieldValue","arrayRemove","updateColor","id","backgroundColor","white","borderRadius","font","marginBottom","extraLarge","margin","base","dark","width","height","uri","image","borderTopLeftRadius","borderTopRightRadius","readyInMinutes","padding","large","marginTop","flexDirection","justifyContent","alignItems","sourceUrl","navigate"],"sources":["/Users/smartinenq/Desktop/Vitamines/Vitamines/VitaminesGithub/Sans titre/components/ReceipeCard.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { View, Image } from \"react-native\";\n\nimport { COLORS, SIZES, SHADOWS, assets } from \"../constants\";\nimport { SubInfo, ReceipeTitle } from \"./SubInfo\";\nimport { RectButton, CircleButton } from \"./Button\";\n\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nimport { db, auth } from \"../firebase\";\n\n\nconst ReceipeCard = ({ data }) => {\n\n    const navigation = useNavigation();\n    const [FavColor, setFavColor] = useState(assets.heartEmpty);\n\n    const updateFav = () => {\n        db\n            .collection('Users')\n            .doc(auth.currentUser.uid)\n            .get()\n            .then((querySnapshot) => {\n                const dic = querySnapshot.data()\n                return dic\n            })\n            .then((dic) => {\n                const fav = dic.favoris\n                if (fav.includes(data.title) !== true) {\n                    fav.push(data.title)\n                    db.collection('Users').doc(auth.currentUser.uid).update({ favoris: fav })\n                    setFavColor(assets.heart)\n                    console.log(\"favoris add\")\n                } else {\n                    db.collection('Users').doc(auth.currentUser.uid).update({\n                        favoris: firebase.firestore.FieldValue.arrayRemove(data.title)\n                    })\n                    setFavColor(assets.heartEmpty)\n                    console.log(\"favoris remove\")\n                }\n            })\n    };\n\n    const updateColor = () => {\n        db\n            .collection('Users')\n            .doc(auth.currentUser.uid)\n            .get()\n            .then((querySnapshot) => {\n                const dic = querySnapshot.data()\n                return dic\n            })\n            .then((dic) => {\n                const fav = dic.favoris\n                if (fav.includes(data.id) !== true) {\n                    setFavColor(assets.heartEmpty)\n                } else {\n                    setFavColor(assets.heart)\n                }\n            })\n    };\n\n    useEffect(() => {\n        updateColor();\n    }, []);\n    console.log(\"favori 1 ou 2\", data)\n    return ( <\n        View style = {\n            {\n                backgroundColor: COLORS.white,\n                borderRadius: SIZES.font,\n                marginBottom: SIZES.extraLarge,\n                margin: SIZES.base,\n                ...SHADOWS.dark,\n            }\n        } >\n        <\n        View style = {\n            {\n                width: \"100%\",\n                height: 250,\n            }\n        } >\n        <\n        Image source = {\n            { uri: data.image } }\n        resizeMode = \"cover\"\n        style = {\n            {\n                width: \"100%\",\n                height: \"100%\",\n                borderTopLeftRadius: SIZES.font,\n                borderTopRightRadius: SIZES.font,\n            }\n        }\n        />\n\n        <\n        CircleButton imgUrl = { FavColor }\n        right = { 10 }\n        top = { 10 }\n        handlePress = { updateFav }\n        /> <\n        /View>\n\n        <\n        SubInfo tmpPrep = { data.readyInMinutes }\n        />\n\n        <\n        View style = {\n            { width: \"100%\", padding: SIZES.font } } >\n        <\n        ReceipeTitle title = { data.title }\n        titleSize = { SIZES.large }\n        />\n\n        <\n        View style = {\n            {\n                marginTop: SIZES.font,\n                flexDirection: \"row\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n            }\n        } >\n        <\n        Text > { data.sourceUrl } < /Text> <\n        RectButton minWidth = { 120 }\n        fontSize = { SIZES.font }\n        handlePress = {\n            () => navigation.navigate(\"Details\", { data }) }\n        /> <\n        /View> <\n        /View> <\n        /View>\n    );\n};\n\nexport default ReceipeCard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}